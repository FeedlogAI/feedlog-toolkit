{"version":3,"file":"feedlog-issues-list.js","sourceRoot":"","sources":["../../../src/components/feedlog-issues-list/feedlog-issues-list.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, Event, EventEmitter, h, Host } from '@stencil/core';\nimport { FeedlogIssue } from '@feedlog-toolkit/core';\n\n/**\n * Heart icon SVG component (filled)\n */\nconst HeartFilledIcon = () => (\n  <svg\n    class=\"upvote-icon filled\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"currentColor\"\n    stroke=\"none\"\n  >\n    <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n  </svg>\n);\n\n/**\n * Heart icon SVG component (outline)\n */\nconst HeartOutlineIcon = () => (\n  <svg\n    class=\"upvote-icon outline\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n  </svg>\n);\n\n/**\n * Feedlog Issues List Component\n *\n * A component for displaying a list of GitHub issues with support for bugs and enhancements.\n */\n@Component({\n  tag: 'feedlog-issues-list',\n  styleUrl: 'feedlog-issues-list.css',\n  shadow: true,\n})\nexport class FeedlogIssuesList {\n  /**\n   * Array of issues to display\n   */\n  @Prop() issues: FeedlogIssue[] = [];\n\n  /**\n   * Theme variant: 'light' or 'dark'\n   */\n  @Prop() theme: 'light' | 'dark' = 'light';\n\n  /**\n   * Event emitted when an issue is upvoted\n   */\n  @Event() feedlogUpvote!: EventEmitter<{\n    issueId: string;\n    currentUpvoted: boolean;\n    currentCount: number;\n  }>;\n\n  private handleUpvote = (event: MouseEvent, issue: FeedlogIssue) => {\n    event.stopPropagation();\n    this.feedlogUpvote.emit({\n      issueId: issue.id,\n      currentUpvoted: issue.hasUpvoted,\n      currentCount: issue.upvoteCount,\n    });\n  };\n\n  render() {\n    return (\n      <Host class={this.theme === 'dark' ? 'dark' : ''}>\n        <div class=\"issues-list\">\n          {this.issues.length === 0 ? (\n            <div class=\"empty-state\">\n              <p>No issues found</p>\n            </div>\n          ) : (\n            this.issues.map(issue => (\n              <div key={issue.id} class=\"issue-card\">\n                <div class=\"issue-content\">\n                  <div class=\"issue-header\">\n                    <div class=\"issue-type-badge\">\n                      {issue.type === 'bug' ? (\n                        <feedlog-badge variant=\"destructive\">Bug</feedlog-badge>\n                      ) : (\n                        <feedlog-badge variant=\"enhancement\">Enhancement</feedlog-badge>\n                      )}\n                    </div>\n                    {issue.pinnedAt && (\n                      <div class=\"pinned-indicator\" title=\"Pinned issue\">\n                        ðŸ“Œ\n                      </div>\n                    )}\n                  </div>\n\n                  <div class=\"issue-main\">\n                    <div class=\"issue-details\">\n                      <h3 class=\"issue-title\">{issue.title}</h3>\n                      <p class=\"issue-body\">{issue.body}</p>\n\n                      <div class=\"issue-repository\">\n                        <span class=\"repo-name\">\n                          {issue.repository.owner}/{issue.repository.name}\n                        </span>\n                        {issue.githubIssueNumber > 0 && (\n                          <span class=\"github-number\">#{issue.githubIssueNumber}</span>\n                        )}\n                      </div>\n                    </div>\n\n                    <button\n                      class={`upvote-button ${issue.hasUpvoted ? 'upvoted' : ''}`}\n                      onClick={(e: MouseEvent) => this.handleUpvote(e, issue)}\n                      title={issue.hasUpvoted ? 'Remove upvote' : 'Upvote this issue'}\n                    >\n                      {issue.hasUpvoted ? <HeartFilledIcon /> : <HeartOutlineIcon />}\n                      <span class=\"upvote-count\">{issue.upvoteCount}</span>\n                    </button>\n                  </div>\n\n                  <div class=\"issue-footer\">\n                    <span class=\"issue-date\" title={`Updated: ${issue.updatedAt}`}>\n                      Updated {this.formatDate(issue.updatedAt)}\n                    </span>\n                    <span class=\"issue-date\" title={`Created: ${issue.createdAt}`}>\n                      Created {this.formatDate(issue.createdAt)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </Host>\n    );\n  }\n\n  /**\n   * Format an ISO date string to a relative time string\n   */\n  private formatDate(dateString: string): string {\n    try {\n      const date = new Date(dateString);\n      const now = new Date();\n      const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n\n      if (seconds < 60) return 'just now';\n      if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\n      if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\n      if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;\n      if (seconds < 2592000) return `${Math.floor(seconds / 604800)}w ago`;\n\n      return date.toLocaleDateString();\n    } catch {\n      return 'unknown date';\n    }\n  }\n}\n"]}